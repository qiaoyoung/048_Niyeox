
#import <Foundation/Foundation.h>

NSString *StringFromArtisticFoundData(Byte *data);        


//: 查看红包
Byte moduleWiseVersion[] = {76, 12, 93, 5, 191, 137, 66, 72, 138, 63, 46, 138, 93, 69, 136, 47, 40, 240};

//: isaccept
Byte appElegantBarPath[] = {70, 8, 28, 14, 116, 91, 247, 158, 77, 81, 98, 122, 226, 136, 77, 87, 69, 71, 71, 73, 84, 88, 212};

//: redid
Byte networkStretchAlert[] = {56, 5, 64, 8, 177, 60, 118, 83, 50, 37, 36, 41, 36, 66};

//: NIMDemoEventNameOpenRedPacket
Byte userMoveCreativeDict[] = {42, 29, 36, 9, 252, 84, 67, 151, 27, 42, 37, 41, 32, 65, 73, 75, 33, 82, 65, 74, 80, 42, 61, 73, 65, 43, 76, 65, 74, 46, 65, 64, 44, 61, 63, 71, 65, 80, 157};

//: from_
Byte viewTopicRecoverToken[] = {18, 5, 79, 7, 163, 131, 63, 23, 35, 32, 30, 16, 91};

//: /wallet/isAcceptRed
Byte appMotionWhisperPreference[] = {7, 19, 46, 9, 119, 81, 197, 163, 112, 1, 73, 51, 62, 62, 55, 70, 1, 59, 69, 19, 53, 53, 55, 66, 70, 36, 55, 54, 22};

//: icon_redpacket_custom
Byte moduleDrawerPreference[] = {31, 21, 73, 14, 219, 238, 147, 111, 75, 6, 56, 254, 85, 35, 32, 26, 38, 37, 22, 41, 28, 27, 39, 24, 26, 34, 28, 43, 22, 26, 44, 42, 43, 38, 36, 9};

//: 领取红包
Byte screenAbsorbValue[] = {3, 12, 54, 14, 117, 211, 223, 245, 231, 64, 21, 168, 51, 202, 179, 108, 80, 175, 89, 96, 177, 132, 108, 175, 86, 79, 250};

//: icon_redpacket_
Byte colorAbsoluteMessage[] = {44, 15, 31, 11, 170, 84, 145, 25, 234, 224, 64, 74, 68, 80, 79, 64, 83, 70, 69, 81, 66, 68, 76, 70, 85, 64, 108};

//: pressed
Byte colorPainterName[] = {49, 7, 94, 9, 122, 141, 204, 157, 127, 18, 20, 7, 21, 21, 7, 6, 75};

//: normal
Byte stylePrimaryVersion[] = {78, 6, 22, 12, 70, 38, 228, 249, 167, 60, 221, 39, 88, 89, 92, 87, 75, 86, 185};

//: data
Byte appMinimalTime[] = {48, 4, 41, 7, 165, 182, 177, 59, 56, 75, 56, 4};

// __DEBUG__
// __CLOSE_PRINT__
//
//  DriverUpgradeTactfulCompress.m
//  NIM
//
//  Created by chris on 2017/7/17.
//  Copyright © 2017年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "DriverUpgradeTactfulCompress.h"
#import "DriverUpgradeTactfulCompress.h"
//: #import "ShimmeringPrefetchEnhanceMigrateEmit.h"
#import "ShimmeringPrefetchEnhanceMigrateEmit.h"
//: #import "OuterMinifyReflexive.h"
#import "OuterMinifyReflexive.h"
//: #import "EnhanceRecalculateEnrich.h"
#import "EnhanceRecalculateEnrich.h"

//: @interface DriverUpgradeTactfulCompress()
@interface DriverUpgradeTactfulCompress()

//: @property (nonatomic, strong) UILabel *descLabel;
@property (nonatomic, strong) UILabel *added;

//: @property (nonatomic, strong) UILabel *titleLabel;
@property (nonatomic, strong) UILabel *profile;

//: @property (nonatomic, strong) UIView *whiteView;
@property (nonatomic, strong) UIView *searchWrite;

//: @property (nonatomic, strong) UILabel *subTitleLabel;
@property (nonatomic, strong) UILabel *triumph;

//: @property (nonatomic, strong) UITapGestureRecognizer *tap;
@property (nonatomic, strong) UITapGestureRecognizer *album;

//: @property (nonatomic ,strong) UIImageView *redPacketImage;
@property (nonatomic ,strong) UIImageView *shrinkView;

//: @end
@end

//: @implementation DriverUpgradeTactfulCompress
@implementation DriverUpgradeTactfulCompress

//: #pragma mark - 系统父类方法
#pragma mark - 系统父类方法
//: - (void)refresh:(PrimalJourneyTaskOwl*)data{
- (void)worldWith:(PrimalJourneyTaskOwl*)data{
    //: [super refresh:data];
    [super worldWith:data];

    //: NIMCustomObject *object = data.message.messageObject;
    NIMCustomObject *object = data.flat.messageObject;
    //: ShimmeringPrefetchEnhanceMigrateEmit *attachment = (ShimmeringPrefetchEnhanceMigrateEmit *)object.attachment;
    ShimmeringPrefetchEnhanceMigrateEmit *attachment = (ShimmeringPrefetchEnhanceMigrateEmit *)object.attachment;

    //: self.titleLabel.text = attachment.title;
    self.profile.text = attachment.deviceLakeSteady;
    //: self.descLabel.text = attachment.content;
    self.added.text = attachment.deliveryRaw;

    //: self.titleLabel.textColor = [UIColor lightGrayColor];
    self.profile.textColor = [UIColor lightGrayColor];
    //: self.subTitleLabel.textColor = [UIColor whiteColor];
    self.triumph.textColor = [UIColor whiteColor];
    //: self.descLabel.textColor = [UIColor whiteColor];
    self.added.textColor = [UIColor whiteColor];

    //: [self.titleLabel sizeToFit];
    [self.profile sizeToFit];
    //: CGRect rect = self.titleLabel.frame;
    CGRect rect = self.profile.frame;
    //: if (CGRectGetMaxX(rect) > self.bounds.size.width)
    if (CGRectGetMaxX(rect) > self.bounds.size.width)
    {
        //: rect.size.width = self.bounds.size.width - rect.origin.x - 20;
        rect.size.width = self.bounds.size.width - rect.origin.x - 20;
        //: self.titleLabel.frame = rect;
        self.profile.frame = rect;
    }
    //: self.subTitleLabel.text = self.model.message.isOutgoingMsg? @"查看红包".user_localized : @"领取红包".user_localized;
    self.triumph.text = self.lab.flat.isOutgoingMsg? StringFromArtisticFoundData(moduleWiseVersion).oceanWithinFirst : StringFromArtisticFoundData(screenAbsorbValue).oceanWithinFirst;

    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: dict[@"redid"] = attachment.redPacketId;
    dict[StringFromArtisticFoundData(networkStretchAlert)] = attachment.gradualPermission;
    //: [OuterMinifyReflexive getWithUrl:[NSString stringWithFormat:@"/wallet/isAcceptRed"] params:dict isShow:NO success:^(id responseObject) {
    [OuterMinifyReflexive transfer:[NSString stringWithFormat:StringFromArtisticFoundData(appMotionWhisperPreference)] disturbingRow:dict untilCharacterBroadcast:NO collection:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSDictionary *dataDict = [resultDict valueObjectForKey:@"data"];
        NSDictionary *dataDict = [resultDict successAcrossBlock:StringFromArtisticFoundData(appMinimalTime)];
        //: NSString *isaccept = [dataDict newStringValueForKey:@"isaccept"];
        NSString *isaccept = [dataDict amend:StringFromArtisticFoundData(appElegantBarPath)];
        //: if (isaccept.integerValue == 0) {
        if (isaccept.integerValue == 0) {
            //: _whiteView.hidden = YES;
            _searchWrite.hidden = YES;
        //: }else{
        }else{
            //: _whiteView.hidden = NO;
            _searchWrite.hidden = NO;
        }
    //: } failed:^(id responseObject, NSError *error) {
    } style:^(id responseObject, NSError *error) {

    //: }];
    }];
}


//: - (void)layoutSubviews
- (void)layoutSubviews
{
    //: [super layoutSubviews];
    [super layoutSubviews];
    //: _redPacketImage.frame = CGRectMake(0, 0, 160, 180);
    _shrinkView.frame = CGRectMake(0, 0, 160, 180);
    //: _whiteView.frame = CGRectMake(0, 0, 160, 180);
    _searchWrite.frame = CGRectMake(0, 0, 160, 180);

    //: BOOL outgoing = self.model.message.isOutgoingMsg;
    BOOL outgoing = self.lab.flat.isOutgoingMsg;
    //: if (outgoing)
    if (outgoing)
    {
        //: self.descLabel.frame = CGRectMake(12.0f+31.f+12.f, 17.f, 160.f, 24.f);
        self.added.frame = CGRectMake(12.0f+31.f+12.f, 17.f, 160.f, 24.f);
        //: self.subTitleLabel.frame = CGRectMake(12.0f+31.f+12.f, 39.f, 150.f, 20.f);
        self.triumph.frame = CGRectMake(12.0f+31.f+12.f, 39.f, 150.f, 20.f);
        //: self.titleLabel.frame = CGRectMake(7.0f, 93.f-18.f, 180.f, 21.f);
        self.profile.frame = CGRectMake(7.0f, 93.f-18.f, 180.f, 21.f);
    }
    //: else
    else
    {
        //: self.descLabel.frame = CGRectMake(12.f+31.f+12.f, 17.f, 160.f, 24.f);
        self.added.frame = CGRectMake(12.f+31.f+12.f, 17.f, 160.f, 24.f);
        //: self.subTitleLabel.frame = CGRectMake(12.f+31.f+12.f, 39.f, 150.f, 20.f);
        self.triumph.frame = CGRectMake(12.f+31.f+12.f, 39.f, 150.f, 20.f);
        //: self.titleLabel.frame = CGRectMake(14.f, 93.f-18.f, 180.f, 21.f);
        self.profile.frame = CGRectMake(14.f, 93.f-18.f, 180.f, 21.f);
    }
}

//: - (void)onTouchUpInside:(id)sender
- (void)bring:(id)sender
{
    //: if ([self.delegate respondsToSelector:@selector(onCatchEvent:)]) {
    if ([self.forceRationalses respondsToSelector:@selector(originToward:)]) {
        //: SoundJubilantRecord *event = [[SoundJubilantRecord alloc] init];
        SoundJubilantRecord *event = [[SoundJubilantRecord alloc] init];
        //: event.eventName = @"NIMDemoEventNameOpenRedPacket";
        event.disabled = StringFromArtisticFoundData(userMoveCreativeDict);
        //: event.messageModel = self.model;
        event.sumegrityBrave = self.lab;
        //: event.data = self;
        event.heaven = self;
        //: [self.delegate onCatchEvent:event];
        [self.forceRationalses originToward:event];
    }
}

//: - (UIImage *)chatBubbleImageForState:(UIControlState)state outgoing:(BOOL)outgoing
- (UIImage *)sum:(UIControlState)state sumoLikeRaw:(BOOL)outgoing
{
    //: NSString *stateString = state == UIControlStateNormal? @"normal" : @"pressed";
    NSString *stateString = state == UIControlStateNormal? StringFromArtisticFoundData(stylePrimaryVersion) : StringFromArtisticFoundData(colorPainterName);
    //: NSString *imageName = @"icon_redpacket_";
    NSString *imageName = StringFromArtisticFoundData(colorAbsoluteMessage);
    //: if (outgoing)
    if (outgoing)
    {
        //: imageName = [imageName stringByAppendingString:@"from_"];
        imageName = [imageName stringByAppendingString:StringFromArtisticFoundData(viewTopicRecoverToken)];
    }
    //: else
    else
    {
        //: imageName = [imageName stringByAppendingString:@"to_"];
        imageName = [imageName stringByAppendingString:@"to_"];
    }
    //: imageName = [imageName stringByAppendingString:stateString];
    imageName = [imageName stringByAppendingString:stateString];
    //: return [UIImage imageNamed:imageName];
    return [UIImage imageNamed:imageName];
}

//: - (instancetype)initSessionMessageContentView{
- (instancetype)initBlue{
    //: self = [super initSessionMessageContentView];
    self = [super initBlue];
    //: if (self) {
    if (self) {
        // 内容布局
//        _titleLabel = [[UILabel alloc] initWithFrame:CGRectZero];
//        _titleLabel.font = [UIFont systemFontOfSize:12.f];
//        _subTitleLabel = [[UILabel alloc] initWithFrame:CGRectZero];
//        _subTitleLabel.font = [UIFont systemFontOfSize:12.f];
//        _descLabel = [[UILabel alloc] initWithFrame:CGRectZero];
//        _descLabel.font = [UIFont systemFontOfSize:13.f];

        //: _redPacketImage = [[UIImageView alloc] init];
        _shrinkView = [[UIImageView alloc] init];
        //: _redPacketImage.clipsToBounds = YES;
        _shrinkView.clipsToBounds = YES;
        //: _redPacketImage.contentMode = UIViewContentModeScaleAspectFill;
        _shrinkView.contentMode = UIViewContentModeScaleAspectFill;
        //: _redPacketImage.image = [UIImage imageNamed:@"icon_redpacket_custom"];
        _shrinkView.image = [UIImage imageNamed:StringFromArtisticFoundData(moduleDrawerPreference)];
        //: _redPacketImage.layer.masksToBounds = YES;
        _shrinkView.layer.masksToBounds = YES;
        //: _redPacketImage.layer.cornerRadius = 10;
        _shrinkView.layer.cornerRadius = 10;

        //: _whiteView = [[UIView alloc] init];
        _searchWrite = [[UIView alloc] init];
        //: _whiteView.userInteractionEnabled = NO;
        _searchWrite.userInteractionEnabled = NO;
        //: _whiteView.backgroundColor = [UIColor whiteColor];
        _searchWrite.backgroundColor = [UIColor whiteColor];
        //: _whiteView.alpha = 0.5;
        _searchWrite.alpha = 0.5;
        //: _whiteView.hidden = YES;
        _searchWrite.hidden = YES;

        //: self.bubbleImageView.hidden = YES;
        self.betweenM.hidden = YES;

        //: [self addSubview:_redPacketImage];
        [self addSubview:_shrinkView];
        //: [self addSubview:_titleLabel];
        [self addSubview:_profile];
        //: [self addSubview:_subTitleLabel];
        [self addSubview:_triumph];
        //: [self addSubview:_descLabel];
        [self addSubview:_added];
        //: [self addSubview:_whiteView];
        [self addSubview:_searchWrite];

    }
    //: return self;
    return self;
}

//: @end
@end

Byte * ArtisticFoundDataToCache(Byte *data) {
    int painter = data[0];
    int sunnyDoingHill = data[1];
    Byte containerValue = data[2];
    int sliceFleet = data[3];
    if (!painter) return data + sliceFleet;
    for (int i = sliceFleet; i < sliceFleet + sunnyDoingHill; i++) {
        int value = data[i] + containerValue;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[sliceFleet + sunnyDoingHill] = 0;
    return data + sliceFleet;
}

NSString *StringFromArtisticFoundData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)ArtisticFoundDataToCache(data)];
}
