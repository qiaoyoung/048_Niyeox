
#import <Foundation/Foundation.h>
typedef struct {
    Byte constraintPower;
    Byte *light;
    unsigned int list;
    Byte river;
	int orientation;
	int bold;
	int aspect;
} Winter_Data;

NSString *StringFromWinter_Data(Winter_Data *data);


//: invalid item selector!
Winter_Data networkRouteSkirtError = (Winter_Data){240, (Byte []){153, 158, 134, 145, 156, 153, 148, 208, 153, 132, 149, 157, 208, 131, 149, 156, 149, 147, 132, 159, 130, 209, 56}, 22, 252, 250, 82, 67};

//: USERMessageTranslate
Winter_Data k_thinExtraChallengePreference = (Winter_Data){191, (Byte []){234, 236, 250, 237, 242, 218, 204, 204, 222, 216, 218, 235, 205, 222, 209, 204, 211, 222, 203, 218, 73}, 20, 154, 30, 249, 237};

//: FFFKitEventNameTapLabelLink
Winter_Data constFindName = (Winter_Data){233, (Byte []){175, 175, 175, 162, 128, 157, 172, 159, 140, 135, 157, 167, 136, 132, 140, 189, 136, 153, 165, 136, 139, 140, 133, 165, 128, 135, 130, 194}, 27, 204, 116, 44, 136};

// __DEBUG__
// __CLOSE_PRINT__
//
//  SongAlcoveEnable.m
// ViewAngleFind
//
//  Created by chris.
//  Copyright (c) 2015å¹´ Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "SongAlcoveEnable.h"
#import "SongAlcoveEnable.h"
//: #import "RevokeHashSnapTower+ViewAngleFind.h"
#import "RevokeHashSnapTower+ViewAngleFind.h"
//: #import "PrimalJourneyTaskOwl.h"
#import "PrimalJourneyTaskOwl.h"
//: #import "DiscretePatchConductor.h"
#import "DiscretePatchConductor.h"
//: #import "BriefRegistryFlyweight.h"
#import "BriefRegistryFlyweight.h"
//: #import "ViewAngleFind.h"
#import "ViewAngleFind.h"
//: #import "MarkReceive.h"
#import "MarkReceive.h"
//: #import "CurveCombinerThroughoutMagnify.h"
#import "CurveCombinerThroughoutMagnify.h"
//: #import "HeightStateless.h"
#import "HeightStateless.h"
//: #import "NSObject+ContourEqualizationStageContainer.h"
#import "NSObject+ContourEqualizationStageContainer.h"

//: @interface SongAlcoveEnable()<ConverterEndRayMagnify>
@interface SongAlcoveEnable()<ConverterEndRayMagnify>

//: @property (nonatomic, strong) NSString *urlStr;
@property (nonatomic, strong) NSString *collapseGen;
//: @property (nonatomic, strong) NSURL *url;
@property (nonatomic, strong) NSURL *standAgree;

//: @end
@end

//: @implementation SongAlcoveEnable
@implementation SongAlcoveEnable

//: - (BOOL)checkUrlWithString:(NSString *)str
- (BOOL)month:(NSString *)str
{
    //: __block BOOL isUrl = NO;
    __block BOOL isUrl = NO;
    //: NSError *error = nil;
    NSError *error = nil;
    //: NSDataDetector *detector = [NSDataDetector
    NSDataDetector *detector = [NSDataDetector
                                //: dataDetectorWithTypes:NSTextCheckingTypeLink
                                dataDetectorWithTypes:NSTextCheckingTypeLink
                                //: error:&error];
                                error:&error];

    //: [detector enumerateMatchesInString:str
    [detector enumerateMatchesInString:str
                               //: options:0
                               options:0
                                 //: range:NSMakeRange(0, str.length)
                                 range:NSMakeRange(0, str.length)
                            //: usingBlock:^(NSTextCheckingResult *result, NSMatchingFlags flags, BOOL *stop) {
                            usingBlock:^(NSTextCheckingResult *result, NSMatchingFlags flags, BOOL *stop) {

        //: if (result.resultType == NSTextCheckingTypeLink) {
        if (result.resultType == NSTextCheckingTypeLink) {
            //: isUrl = YES;
            isUrl = YES;
            //: self.url = result.URL;
            self.standAgree = result.URL;
        }
    //: }];
    }];

    //: return isUrl;
    return isUrl;
}

//: - (instancetype)initSessionMessageContentView
- (instancetype)initBlue
{
    //: if (self = [super initSessionMessageContentView]) {
    if (self = [super initBlue]) {
        //: _textView = [[RevokeHashSnapTower alloc] initWithFrame:CGRectZero];
        _jungle = [[RevokeHashSnapTower alloc] initWithFrame:CGRectZero];
        //: _textView.Stringdelegate = self;
        _jungle.rangeInsert = self;
        //: _textView.numberOfLines = 0;
        _jungle.length = 0;
        //: _textView.autoDetectLinks = YES;
        _jungle.video = YES;
        //: _textView.underLineForLink = YES;
        _jungle.pleased = YES;
        //: _textView.lineBreakMode = NSLineBreakByWordWrapping;
        _jungle.condition = NSLineBreakByWordWrapping;
        //: _textView.backgroundColor = [UIColor clearColor];
        _jungle.backgroundColor = [UIColor clearColor];
        //: _textView.isShowTextSelection = YES;
        _jungle.stair = YES;
        //        _textView.selectable = YES;


        @
         //: autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
         autoreleasepool{} __weak __typeof__(self) __weak_self__ = self;
                      ;
        //: _textView.selectBlock = ^(SubmitRidgeNeutralDrive *item) {
        _jungle.attach = ^(SubmitRidgeNeutralDrive *item) {
            @
             //: try{} @finally{} __typeof__(self) self = __weak_self__;
             try{} @finally{} __typeof__(self) self = __weak_self__;
                            ;
            //: if (self.delegate && [self.delegate respondsToSelector:@selector(onLongTap:)]) {
            if (self.forceRationalses && [self.forceRationalses respondsToSelector:@selector(memories:)]) {
                //: NSString *text = [self.textView.text substringWithRange:self.textView.selectedRange];
                NSString *text = [self.jungle.text substringWithRange:self.jungle.selectedRange];
                //: self.model.message.ContourEqualizationStageContainer = text;
                self.lab.flat.loyalMergeGraphicRelieffed = text;
                //: [self.delegate onLongTap:self.model.message];
                [self.forceRationalses memories:self.lab.flat];
                //: if (self.textView.actionDelegate && [self.textView.actionDelegate respondsToSelector:@selector(onTapMediaItem:)]) {
                if (self.jungle.gardenBeside && [self.jungle.gardenBeside respondsToSelector:@selector(clickProject:)]) {
                    //: BOOL handled = [self.textView.actionDelegate onTapMediaItem:item];
                    BOOL handled = [self.jungle.gardenBeside clickProject:item];
                    //: if (!handled) {
                    if (!handled) {
                        //: NSAssert(0, @"invalid item selector!");
                        NSAssert(0, StringFromWinter_Data(&networkRouteSkirtError));
                    }
                }
            }
        //: };
        };
        //: _textView.praiseSelectBlock = ^(NSInteger tag){
        _jungle.among = ^(NSInteger tag){
            @
             //: try{} @finally{} __typeof__(self) self = __weak_self__;
             try{} @finally{} __typeof__(self) self = __weak_self__;
                            ;
            //: if (self.textView.actionDelegate && [self.textView.actionDelegate respondsToSelector:@selector(onTapPraiseItem: withMessage:)]) {
            if (self.jungle.gardenBeside && [self.jungle.gardenBeside respondsToSelector:@selector(elmAcknowledge: argument:)]) {
                    //: [self.textView.actionDelegate onTapPraiseItem:tag withMessage:self.model.message];
                    [self.jungle.gardenBeside elmAcknowledge:tag argument:self.lab.flat];
                }
        //: };
        };

        //: [self addSubview:_textView];
        [self addSubview:_jungle];
    }
    //: return self;
    return self;
}

//: #pragma mark - ConverterEndRayMagnify
#pragma mark - ConverterEndRayMagnify
//: - (void)RevokeHashSnapTower:(RevokeHashSnapTower *)label
- (void)brain:(RevokeHashSnapTower *)label
             //: clickedOnLink:(id)linkData{
             monster:(id)linkData{
    //: SoundJubilantRecord *event = [[SoundJubilantRecord alloc] init];
    SoundJubilantRecord *event = [[SoundJubilantRecord alloc] init];
    //: event.eventName = @"FFFKitEventNameTapLabelLink";
    event.disabled = StringFromWinter_Data(&constFindName);
    //: event.messageModel = self.model;
    event.sumegrityBrave = self.lab;
    //: event.data = linkData;
    event.heaven = linkData;
    //: [self.delegate onCatchEvent:event];
    [self.forceRationalses originToward:event];
}

//: - (CGSize)contentSize:(CGFloat)cellWidth message:(NIMMessage *)message
- (CGSize)simultaneouslyCancelDuringOdd:(CGFloat)cellWidth outside:(NIMMessage *)message
{
    //: NSString *text = message.text;
    NSString *text = message.text;
    //: if ([message.localExt.allKeys containsObject:@"USERMessageTranslate"])
    if ([message.localExt.allKeys containsObject:StringFromWinter_Data(&k_thinExtraChallengePreference)])
    {
        //: text = [NSString stringWithFormat:@"%@\n%@",text,[message.localExt objectForKey:@"USERMessageTranslate"]];
        text = [NSString stringWithFormat:@"%@\n%@",text,[message.localExt objectForKey:StringFromWinter_Data(&k_thinExtraChallengePreference)]];
    }
    //: self.textView.font = [[ViewAngleFind sharedKit].config setting:message].font;
    self.jungle.font = [[ViewAngleFind translation].vine soundObvious:message].transmitShift;
    //: [self.textView nim_setText:text];
    [self.jungle scheduleInsert:text];
    //: CGFloat msgBubbleMaxWidth = (cellWidth - 130);
    CGFloat msgBubbleMaxWidth = (cellWidth - 130);
    //: CGFloat bubbleLeftToContent = 14;
    CGFloat bubbleLeftToContent = 14;
    //: CGFloat contentRightToBubble = 14;
    CGFloat contentRightToBubble = 14;
    //: CGFloat msgContentMaxWidth = (msgBubbleMaxWidth - contentRightToBubble - bubbleLeftToContent);
    CGFloat msgContentMaxWidth = (msgBubbleMaxWidth - contentRightToBubble - bubbleLeftToContent);

    //: return [self.textView sizeThatFits:CGSizeMake(msgContentMaxWidth, 1.7976931348623157e+308)];
    return [self.jungle sizeThatFits:CGSizeMake(msgContentMaxWidth, 1.7976931348623157e+308)];
}




//: -(void)gotoUrl
-(void)manFraction
{
    //: if ([[UIApplication sharedApplication] canOpenURL:self.url]) {
    if ([[UIApplication sharedApplication] canOpenURL:self.standAgree]) {
        //: [[UIApplication sharedApplication] openURL:self.url options:@{} completionHandler:^(BOOL success) {
        [[UIApplication sharedApplication] openURL:self.standAgree options:@{} completionHandler:^(BOOL success) {
        //: }];
        }];
    }
}

//: - (void)refresh:(PrimalJourneyTaskOwl *)data
- (void)worldWith:(PrimalJourneyTaskOwl *)data
{
    //: if (self.model == data) {
    if (self.lab == data) {
        //: return;
        return;
    }

    //: [super refresh:data];
    [super worldWith:data];

    //: NSString *text = self.model.message.text;
    NSString *text = self.lab.flat.text;
    //: InsightRouter *setting = [[ViewAngleFind sharedKit].config setting:data.message];
    InsightRouter *setting = [[ViewAngleFind translation].vine soundObvious:data.flat];
    //: self.textView.textColor = setting.textColor;
    self.jungle.textColor = setting.ignoreDrawerSpine;
    //: self.textView.font = setting.font;
    self.jungle.font = setting.transmitShift;
    //: [self.textView nim_setText:text];
    [self.jungle scheduleInsert:text];

    //: if ([self.delegate respondsToSelector:@selector(onLongTap:complete:)]) {
    if ([self.forceRationalses respondsToSelector:@selector(engine:skinPure:)]) {
        //: BOOL shouldShowMenuByMessage = [self.delegate onLongTap:data.message complete:^(id data) {
        BOOL shouldShowMenuByMessage = [self.forceRationalses engine:data.flat skinPure:^(id data) {
            //: if ([data isKindOfClass:[HeightStateless class]]) {
            if ([data isKindOfClass:[HeightStateless class]]) {
                //: HeightStateless *vc = (HeightStateless *)data;
                HeightStateless *vc = (HeightStateless *)data;
                //: self.textView.actionDelegate = vc;
                self.jungle.gardenBeside = vc;
                //: self.textView.config = vc.sessionConfig;
                self.jungle.consumptionValid = vc.thumb;
            }
        //: }];
        }];

        //: self.textView.isShowTextSelection = shouldShowMenuByMessage;
        self.jungle.stair = shouldShowMenuByMessage;
        //: if (shouldShowMenuByMessage) {
        if (shouldShowMenuByMessage) {
            //: [self.textView genMediaButtonsWithMessage:data.message];
            [self.jungle sheetDoing:data.flat];
        }
    }

    //: if(self.model.message.text.length>0
    if(self.lab.flat.text.length>0
       //: ){
       ){
        //: BOOL isValid = [self checkUrlWithString:self.model.message.text];
        BOOL isValid = [self month:self.lab.flat.text];
        //: if(isValid){
        if(isValid){
            //: _textView.userInteractionEnabled = YES;
            _jungle.userInteractionEnabled = YES;
            //: UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(gotoUrl)];
            UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(manFraction)];
            //: [_textView addGestureRecognizer:singleTap];
            [_jungle addGestureRecognizer:singleTap];
        }
    //: }else{
    }else{

    }
}

//: - (void)layoutSubviews{
- (void)layoutSubviews{
    //: [super layoutSubviews];
    [super layoutSubviews];
    //: UIEdgeInsets contentInsets = self.model.contentViewInsets;
    UIEdgeInsets contentInsets = self.lab.additionalMagnitudeerval;
    //: CGFloat tableViewWidth = self.superview.device_width;
    CGFloat tableViewWidth = self.superview.pickFinishPresent;
    //: CGSize contentsize = [self.model contentSize:tableViewWidth];
    CGSize contentsize = [self.lab analyze:tableViewWidth];
    //    CGSize contentsize         = [self contentSize:tableViewWidth message:self.model.message];
    //: CGRect labelFrame = CGRectMake(contentInsets.left, contentInsets.top, contentsize.width, contentsize.height);
    CGRect labelFrame = CGRectMake(contentInsets.left, contentInsets.top, contentsize.width, contentsize.height);
    //: self.textView.frame = labelFrame;
    self.jungle.frame = labelFrame;
}

//: @end
@end

Byte *Winter_DataToByte(Winter_Data *data) {
    if (data->river < 116) return data->light;
    for (int i = 0; i < data->list; i++) {
        data->light[i] ^= data->constraintPower;
    }
    data->light[data->list] = 0;
    data->river = 15;
	if (data->list >= 3) {
		data->orientation = data->light[0];
		data->bold = data->light[1];
		data->aspect = data->light[2];
	}
    return data->light;
}

NSString *StringFromWinter_Data(Winter_Data *data) {
    return [NSString stringWithUTF8String:(char *)Winter_DataToByte(data)];
}
