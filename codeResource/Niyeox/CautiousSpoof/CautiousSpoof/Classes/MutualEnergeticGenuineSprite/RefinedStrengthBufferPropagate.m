
#import <Foundation/Foundation.h>

NSString *StringFromAssetEvolution_Data(Byte *data);


//: type
Byte networkVoiceDistinctionTimer[] = {46, 4, 11, 9, 53, 91, 245, 47, 164, 127, 132, 123, 112, 91};

//: data
Byte appEfficiencyDate[] = {19, 4, 94, 11, 251, 25, 157, 125, 213, 113, 178, 194, 191, 210, 191, 75};

//: 领取了你的红包
Byte constQuietToken[] = {44, 21, 53, 13, 21, 37, 231, 182, 27, 203, 36, 232, 235, 30, 215, 187, 26, 196, 203, 25, 239, 187, 25, 242, 213, 28, 207, 185, 28, 239, 215, 26, 193, 186, 51};

//: isGetDone
Byte screenRayDownPlatform[] = {89, 9, 42, 5, 83, 147, 157, 113, 143, 158, 110, 153, 152, 143, 122};

//: openPacketId
Byte colorCellResult[] = {12, 12, 30, 11, 51, 180, 151, 3, 248, 219, 142, 141, 142, 131, 140, 110, 127, 129, 137, 131, 146, 103, 130, 12};

//: 领取了你的红包，你的红包已被领完
Byte moduleCheckPreference[] = {46, 48, 37, 14, 203, 204, 103, 83, 33, 72, 78, 165, 190, 47, 14, 199, 171, 10, 180, 187, 9, 223, 171, 9, 226, 197, 12, 191, 169, 12, 223, 199, 10, 177, 170, 20, 225, 177, 9, 226, 197, 12, 191, 169, 12, 223, 199, 10, 177, 170, 10, 220, 215, 13, 199, 208, 14, 199, 171, 10, 211, 177, 124};

//: 你领取了
Byte moduleBelowHelper[] = {47, 12, 55, 5, 32, 27, 244, 215, 32, 217, 189, 28, 198, 205, 27, 241, 189, 204};

//: redPacketId
Byte themeAbortMessage[] = {82, 11, 84, 13, 21, 218, 89, 206, 124, 128, 224, 80, 139, 198, 185, 184, 164, 181, 183, 191, 185, 200, 157, 184, 21};

//: 你领取了自己的红包
Byte appWarmToken[] = {93, 27, 75, 14, 43, 10, 62, 19, 197, 55, 10, 213, 85, 139, 47, 8, 235, 52, 237, 209, 48, 218, 225, 47, 5, 209, 51, 210, 245, 48, 2, 252, 50, 229, 207, 50, 5, 237, 48, 215, 208, 178};

//: 你领取了自己的红包，你的红包已被领完
Byte globalSpeedGoodDict[] = {68, 54, 8, 13, 83, 2, 199, 75, 234, 153, 66, 108, 169, 236, 197, 168, 241, 170, 142, 237, 151, 158, 236, 194, 142, 240, 143, 178, 237, 191, 185, 239, 162, 140, 239, 194, 170, 237, 148, 141, 247, 196, 148, 236, 197, 168, 239, 162, 140, 239, 194, 170, 237, 148, 141, 237, 191, 186, 240, 170, 179, 241, 170, 142, 237, 182, 148, 88};

//: sendPacketId
Byte userDawnFuseHelper[] = {18, 12, 93, 10, 191, 100, 240, 255, 173, 131, 208, 194, 203, 193, 173, 190, 192, 200, 194, 209, 166, 193, 221};

// __DEBUG__
// __CLOSE_PRINT__
//
//  RefinedStrengthBufferPropagate.m
//  NIM
//
//  Created by chris on 2017/7/17.
//  Copyright © 2017年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "RefinedStrengthBufferPropagate.h"
#import "RefinedStrengthBufferPropagate.h"
//: #import "ReplaceGalaxyDeepDynamic.h"
#import "ReplaceGalaxyDeepDynamic.h"
//: #import "RevokeHashSnapTower.h"
#import "RevokeHashSnapTower.h"
//: #import "TweakNotebookProjectSurf.h"
#import "TweakNotebookProjectSurf.h"

//: @interface RefinedStrengthBufferPropagate()
@interface RefinedStrengthBufferPropagate()

//: @property (nonatomic,weak) NIMMessage *message;
@property (nonatomic,weak) NIMMessage *graveBoundary;

//: @end
@end

//: @implementation RefinedStrengthBufferPropagate
@implementation RefinedStrengthBufferPropagate

//: - (NSString *)cellContent:(NIMMessage *)message
- (NSString *)beyond:(NIMMessage *)message
{
    //: return @"ProperForInstantiateOptimal";
    return @"ProperForInstantiateOptimal";
}


//: - (BOOL)canBeForwarded
- (BOOL)titleureAttach
{
    //: return NO;
    return NO;
}


//: - (CGSize)contentSize:(NIMMessage *)message cellWidth:(CGFloat)width{
- (CGSize)echo:(NIMMessage *)message estimated:(CGFloat)width{
    //: self.message = message;
    self.graveBoundary = message;

    //: RevokeHashSnapTower *label = [[RevokeHashSnapTower alloc] initWithFrame:CGRectZero];
    RevokeHashSnapTower *label = [[RevokeHashSnapTower alloc] initWithFrame:CGRectZero];
    //: label.font = [UIFont systemFontOfSize:10];
    label.font = [UIFont systemFontOfSize:10];

    //: CGFloat messageWidth = width;
    CGFloat messageWidth = width;

    //: [label appendText:self.formatedMessage];
    [label sunny:self.readingImplementation];
    //: label.autoDetectLinks = NO;
    label.video = NO;
    //: label.numberOfLines = 0;
    label.length = 0;

    //: CGFloat padding = [ViewAngleFind sharedKit].config.maxNotificationTipPadding;
    CGFloat padding = [ViewAngleFind translation].vine.roleTolerance;
    //: CGSize size = [label sizeThatFits:CGSizeMake(width - 2 * padding, 1.7976931348623157e+308)];
    CGSize size = [label sizeThatFits:CGSizeMake(width - 2 * padding, 1.7976931348623157e+308)];
    //: CGFloat cellPadding = 11.f;
    CGFloat cellPadding = 11.f;
    //: CGSize contentSize = CGSizeMake(messageWidth, size.height + 2 * cellPadding);;
    CGSize contentSize = CGSizeMake(messageWidth, size.height + 2 * cellPadding);;
    //: return contentSize;
    return contentSize;
}

//: - (BOOL)canBeRevoked
- (BOOL)brilliant
{
    //: return NO;
    return NO;
}

//: - (UIEdgeInsets)contentViewInsets:(NIMMessage *)message
- (UIEdgeInsets)unique:(NIMMessage *)message
{
    //: return UIEdgeInsetsZero;
    return UIEdgeInsetsZero;
}

//: - (NSString *)formatedMessage{
- (NSString *)readingImplementation{
    //: NSString * showContent;
    NSString * showContent;
    //: NSString * currentUserId = [[NIMSDK sharedSDK].loginManager currentAccount];
    NSString * currentUserId = [[NIMSDK sharedSDK].loginManager currentAccount];
    // 领取别人的红包
    //: TweakNotebookProjectSurf *option = [[TweakNotebookProjectSurf alloc] init];
    TweakNotebookProjectSurf *option = [[TweakNotebookProjectSurf alloc] init];
    //: option.message = self.message;
    option.gen = self.graveBoundary;

    //: if ([currentUserId isEqualToString:self.sendPacketId] && [currentUserId isEqualToString:self.openPacketId])
    if ([currentUserId isEqualToString:self.stable] && [currentUserId isEqualToString:self.work])
    {
        //: if ([self.isGetDone boolValue])
        if ([self.delayWindow boolValue])
        {
            //: showContent = @"你领取了自己的红包，你的红包已被领完".user_localized;
            showContent = StringFromAssetEvolution_Data(globalSpeedGoodDict).oceanWithinFirst;
        }
        //: else
        else
        {
            //: showContent = @"你领取了自己的红包".user_localized;
            showContent = StringFromAssetEvolution_Data(appWarmToken).oceanWithinFirst;
        }
    }
    //: else if ([currentUserId isEqualToString:self.openPacketId])
    else if ([currentUserId isEqualToString:self.work])
    {
        //: GridMixer * sendUserInfo = [[ViewAngleFind sharedKit] infoByUser:self.sendPacketId option:option];
        GridMixer * sendUserInfo = [[ViewAngleFind translation] creation:self.stable frequencyMode:option];
        //: NSString * name = sendUserInfo.showName;
        NSString * name = sendUserInfo.underCoordinator;
        //: showContent = [NSString stringWithFormat:@"%@%@%@",
        showContent = [NSString stringWithFormat:@"%@%@%@",
                       //: @"你领取了".user_localized,
                       StringFromAssetEvolution_Data(moduleBelowHelper).oceanWithinFirst,
                       //: name,
                       name,
                       //: @"红包".user_localized];
                       @"红包".oceanWithinFirst];
    }

    // 他人领取你的红包
    //: else if ([currentUserId isEqualToString:self.sendPacketId])
    else if ([currentUserId isEqualToString:self.stable])
    {
        //: GridMixer * openUserInfo = [[ViewAngleFind sharedKit] infoByUser:self.openPacketId option:option];
        GridMixer * openUserInfo = [[ViewAngleFind translation] creation:self.work frequencyMode:option];
        //: NSString * name = openUserInfo.showName;
        NSString * name = openUserInfo.underCoordinator;

        //: if ([self.isGetDone boolValue])
        if ([self.delayWindow boolValue])
        {
            //: showContent = [NSString stringWithFormat:@"%@%@",
            showContent = [NSString stringWithFormat:@"%@%@",
                           //: name,
                           name,
                           //: @"领取了你的红包，你的红包已被领完".user_localized];
                           StringFromAssetEvolution_Data(moduleCheckPreference).oceanWithinFirst];
        }
        //: else
        else
        {
            //: showContent = [NSString stringWithFormat:@"%@%@",
            showContent = [NSString stringWithFormat:@"%@%@",
                           //: name,
                           name,
                           //: @"领取了你的红包".user_localized];
                           StringFromAssetEvolution_Data(constQuietToken).oceanWithinFirst];
        }
    }

    //: return [NSString stringWithFormat:@"  %@",showContent];
    return [NSString stringWithFormat:@"  %@",showContent];
}

//: - (NSString *)encodeAttachment {
- (NSString *)encodeAttachment {

    //: NSDictionary *dictContent = @{
    NSDictionary *dictContent = @{
                                  //: @"sendPacketId" : self.sendPacketId,
                                  StringFromAssetEvolution_Data(userDawnFuseHelper) : self.stable,
                                  //: @"openPacketId" : self.openPacketId,
                                  StringFromAssetEvolution_Data(colorCellResult) : self.work,
                                  //: @"redPacketId" : self.packetId,
                                  StringFromAssetEvolution_Data(themeAbortMessage) : self.send,
                                  //: @"isGetDone" : self.isGetDone,
                                  StringFromAssetEvolution_Data(screenRayDownPlatform) : self.delayWindow,
                                  //: };
                                  };
    //: NSDictionary *dict = @{@"type": @(AttachBoundSphereApertureInvertTypeRedPacketTip), @"data": dictContent};
    NSDictionary *dict = @{StringFromAssetEvolution_Data(networkVoiceDistinctionTimer): @(AttachBoundSphereApertureInvertTypeRedPacketTip), StringFromAssetEvolution_Data(appEfficiencyDate): dictContent};

    //: NSData *jsonData = [NSJSONSerialization dataWithJSONObject:dict
    NSData *jsonData = [NSJSONSerialization dataWithJSONObject:dict
                                                       //: options:0
                                                       options:0
                                                         //: error:nil];
                                                         error:nil];

    //: return [[NSString alloc] initWithData:jsonData
    return [[NSString alloc] initWithData:jsonData
                                 //: encoding:NSUTF8StringEncoding];
                                 encoding:NSUTF8StringEncoding];
}


//: @end
@end

Byte * AssetEvolution_DataToCache(Byte *data) {
    int expandOpenUrban = data[0];
    int flame = data[1];
    Byte track = data[2];
    int implement = data[3];
    if (!expandOpenUrban) return data + implement;
    for (int i = implement; i < implement + flame; i++) {
        int value = data[i] - track;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[implement + flame] = 0;
    return data + implement;
}

NSString *StringFromAssetEvolution_Data(Byte *data) {
    return [NSString stringWithUTF8String:(char *)AssetEvolution_DataToCache(data)];
}
